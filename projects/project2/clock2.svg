<svg xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink"
version="1.1" baseProfile="full" onload="init()">
	<style>
		<![CDATA[
			#container{
				fill: #1B6281; 
			}
			
			#clockFace1, #clockFace2, #centerDot, #minHand, #hourHand{
				stroke: #BE2525;
			}
		
			#minHand, #hourHand{
				fill: ;
				stroke-width: 2px;
			}
		
			#secHand{
				fill: red;
			}
			
			#minHand{
			
			}
			
			#hourHand{
				
			}
			
			#clockFace1, #clockFace2{
				fill: white;
				stroke-width: 18px;
			}
			
			#centerDot{
				fill: #BE2525;
				stroke-width: 2px;
			}	
			
			.test{
				stroke: clear;
			}
		//]]>
	</style>
	<script>
		<![CDATA[
		var centerX;
		var centerY;

		function init(){
			// get the center
			var container = document.getElementById("container").getBBox();
			centerX = container.width/2;
			centerY = container.height/2;
	
			// get the time
			var now = new Date();
			var hour = now.getHours();
			var minute = now.getMinutes();
			var second = now.getSeconds();
			console.log(now);
			
			var secStart = second*6;
			var minStart = (minute*6)+(second/10); // minute plus a tenth of a second
			var hourStart = (hour*30)+(minute/2);  // hour plus have a minute, hope thats good
	
			// calcuate durations
			var secTime = 60;
			var minTime = secTime*60;
			var hourTime = minTime*60;
	
			// rotate the hands
			rotateHand("secHand", secStart, secTime+"s");
			rotateHand("minHand", minStart, minTime+"s");
			rotateHand("hourHand", hourStart, hourTime+"s");
		}

		function rotateHand(hand, start, dur){
			// get the hand
			var hand = document.getElementById(hand);
			// make the animation
			var aniElem = getAnimate(start, dur);
			// attach it to the hand
			hand.appendChild(aniElem);
		}

		function getAnimate(start, dur){
			// get the rotate template and clone it
			var aniElem = document.getElementById('rotate').cloneNode(false);
			// remove the id
			aniElem.removeAttribute("id");
			// add from, to, and duration
			aniElem.setAttributeNS(null, "from", start+","+centerX+","+centerY);
			aniElem.setAttributeNS(null, "to", (start+360)+","+centerX+","+centerY);
			aniElem.setAttributeNS(null, "dur", dur);
			// return the animation
			return aniElem;
		}

		//]]>
	</script>
	<defs>
		<animateTransform id="rotate" attributeName="transform" type="rotate"
		begin="0s" dur="60s" repeatCount="indefinite" />
	</defs>
	<!-- 	Build the container -->
	<rect x="0" y="0" id="container" height="100%" width="100%" fill="none"/>
	
	<!-- 	build the face for the clock -->
	<circle id="clockFace1" cx="50%" cy="50%" r="30%" /> 
	<circle id="clockFace2" cx="50%" cy="50%" r="30%" 
	stroke-dasharray="1%,2.91%,0.03%,2.91%,0.03%,2.91%,0.03%,2.91%,0.03%,2.91%"/>
	
	<!-- stroke-dasharray="1%,2.91%,0.03%,2.91%,0.03%,2.91%,0.03%,2.91%,0.03%,2.91%"/> -->
	
	<!-- 	hour hand -->
	<rect id="hourHand" x="49%" y="30%" rx="1%" ry="2%" width="2%" height="20%"/>
	
	<!-- 	minute Hand -->
	<rect id="minHand" x="49.75%" y="20%" ry="1%" width="1%" height="30%"/>
	
	<!-- 	Second Hand -->
	<rect id="secHand" x="49.9%" y="13%" width="0.2%" height="37%"/>
	
	<!-- 	center dot -->
	<circle id="centerDot" cx="50%" cy="50%" r="1.4%"/>
	
	<!-- 	grid lines for testing and positioning-->
	<line class="test" x1="50%" y1="100%" x2="50%"  y2="0%;" />
	<line class="test" x1="100%" y1="100%" x2="0%"  y2="100%;" />
	<line class="test" x1="0" y1="100%" x2="100%"  y2="50%;" />
	<line class="test" x1="0" y1="50%" x2="100%" y2="50%" />
</svg>
